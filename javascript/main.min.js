var $body=document.querySelector("body"),$header=document.getElementById("#header"),$nav=document.getElementById("#nav"),$footer=document.getElementById("#footer"),draggableTarget=".draggable",draggableItems=document.querySelectorAll(draggableTarget),draggableWindowCheck=function(){640<=window.innerWidth?interact(draggableTarget).draggable(!0):(interact(draggableTarget).draggable(!1),draggableItems.forEach(function(e){e.style.transform="none",e.setAttribute("data-x",0),e.setAttribute("data-y",0)}))};function dragMoveListener(e){var t=e.target,n=(parseFloat(t.getAttribute("data-x"))||0)+e.dx,i=(parseFloat(t.getAttribute("data-y"))||0)+e.dy;t.style.webkitTransform=t.style.transform="translate("+n+"px, "+i+"px)",t.setAttribute("data-x",n),t.setAttribute("data-y",i)}interact(draggableTarget).draggable({enabled:!1,inertia:!1,autoScroll:!0,allowFrom:".draggable-handle",modifiers:[interact.modifiers.restrictRect({restriction:"body",endOnly:!1})],onmove:dragMoveListener}),window.addEventListener("resize",function(){draggableWindowCheck()}),draggableWindowCheck();var onResize=function(){$body.style.setProperty("--windowHeight",window.innerHeight+"px")},overlayFadeOut=function(){document.querySelector(".fade-overlay").classList.add("removed")};window.addEventListener("resize",function(){onResize()}),overlayFadeOut(),onResize();var igHeart=document.querySelector(".ig-heart"),igHeartSvg=igHeart.querySelector("svg"),igHeartText=document.querySelector(".ig-heart-text"),instagramHeart=function(){igHeart.classList.contains("liked")?(igHeart.classList.remove("liked"),igHeartText.textContent="0 Likes"):(igHeart.classList.add("liked"),igHeartText.textContent="1 Like!"),igHeart.classList.add("animating"),igHeart.addEventListener("animationend",function(){igHeart.classList.remove("animating")})};igHeart.addEventListener("click",function(e){e.preventDefault(),instagramHeart()});var current=0,igImages=document.querySelectorAll(".ig-image"),totalImages=igImages.length,igDots=document.querySelectorAll(".ig-dot"),igCaptions=document.querySelectorAll(".ig-caption"),igDates=document.querySelectorAll(".ig-date"),igLeft=document.querySelector(".ig-left"),igRight=document.querySelector(".ig-right"),igSlider=document.querySelector(".ig-slider");igImages.forEach(function(e,t){e.style.transform="translateX(".concat(100*t,"%)")});var igUpdate=function(){igDots.forEach(function(e,t){t===current?e.classList.add("current"):e.classList.remove("current")}),igCaptions.forEach(function(e,t){t===current?e.classList.add("current"):e.classList.remove("current")}),igDates.forEach(function(e,t){t===current?e.classList.add("current"):e.classList.remove("current")})},next=function(){current+=1,igLeft.style.visibility="visible",totalImages-1<=current&&(current=totalImages-1,igRight.style.visibility="hidden",igLeft.focus()),moveSlider(),igUpdate()},previous=function(){--current,igRight.style.visibility="visible",current<=0&&(current=0,igLeft.style.visibility="hidden",igRight.focus()),moveSlider(),igUpdate()},moveSlider=function(){igSlider.style.transform="translateX(".concat(-100*current,"%)")};igLeft.addEventListener("click",function(){previous()}),igRight.addEventListener("click",function(){next()}),igLeft.style.visibility="hidden",igUpdate();var musicCurrentVal,song,currentTimeSec,durationSeconds,request,currentSong,wasPlaying,title,thumbnail,src,musicSlider=document.querySelector("#music-slider"),musicProgressBar=document.querySelector("#music-progress-bar"),musicWrapper=document.getElementById("music-state-wrapper"),playState=musicWrapper.getAttribute("data-state"),playButton=document.getElementById("music-play-button"),playIcon=playButton.querySelector("#music-play-icon"),pauseIcon=playButton.querySelector("#music-pause-icon"),musicWindowWrapper=musicWrapper.closest(".window-wrapper"),musicWindowCloseButton=musicWindowWrapper.querySelector(".window-close"),tracks=document.querySelectorAll(".playlist-item"),musicThumbnail=document.getElementById("music-thumbnail"),musicTitle=document.getElementById("music-title");musicWindowCloseButton.addEventListener("click",function(){pause()}),musicSlider.addEventListener("input",function(){window.requestAnimationFrame(function(){musicProgressBar.style.transform="scaleX(".concat(musicSlider.value/100,")")}),song&&(song.pause(),song.seek(musicSlider.value*durationSeconds/100))}),musicSlider.addEventListener("mousedown",function(){wasPlaying="playing"===playState&&(song.pause(),!0)}),musicSlider.addEventListener("touchstart",function(){wasPlaying="playing"===playState&&(song.pause(),!0)}),musicSlider.addEventListener("mouseup",function(){wasPlaying&&play()}),musicSlider.addEventListener("touchend",function(){wasPlaying&&play()}),playButton.addEventListener("click",function(){updatePlayState()});var updatePlayState=function(){"paused"===playState?play():"playing"===playState&&pause()},updateProgressBar=function e(){request=requestAnimationFrame(e),currentTimeSec=song.seek(),currentTimePercentage=currentTimeSec/durationSeconds*100,setProgressBar(currentTimePercentage)},setProgressBar=function(e){musicSlider.value=e,musicProgressBar.style.transform="scaleX(".concat(e/100,")")},songLoading=function(e,t){currentSong=t,playState="loading",musicWrapper.setAttribute("data-state",playState),Howler.unload(),musicSlider.setAttribute("disabled",""),playButton.setAttribute("disabled",""),setProgressBar(0),src=e.getAttribute("data-src"),thumbnail=e.getAttribute("data-thumbnail"),title=e.getAttribute("data-title"),song=new Howl({src:[src]}),musicThumbnail.src=thumbnail,musicTitle.innerHTML="Loading...",musicSlider.value=0,cancelAnimationFrame(request)},songLoaded=function(){durationSeconds=song.duration(),musicTitle.innerHTML=title,play(),musicSlider.removeAttribute("disabled"),playButton.removeAttribute("disabled")},play=function(){playState="playing",musicWrapper.setAttribute("data-state",playState),song.play(),updateProgressBar()},pause=function(){playState="paused",musicWrapper.setAttribute("data-state",playState),song.pause(),cancelAnimationFrame(request)},playSong=function(e,t){songLoading(e,t),song.on("load",function(){songLoaded()}),song.on("end",function(){currentSong<tracks.length-1?(pause(),tracks[currentSong+1].click()):(pause(),song.stop(),resetMusic())})};tracks.forEach(function(e,t){e.addEventListener("click",function(){"playing"===playState&&pause(),currentSong===t?play():playSong(e,t),tracks.forEach(function(e){e.classList.remove("current")}),e.classList.add("current")})});var resetMusic=function(){currentSong=tracks.length,musicTitle.innerHTML="Thanks for listening! ❤️",musicThumbnail.src="",musicSlider.setAttribute("disabled",""),playButton.setAttribute("disabled",""),tracks.forEach(function(e){e.classList.remove("current")})},closedWindows=document.querySelectorAll(".closed"),closeAllButton=document.querySelector(".close-all"),windowWrappers=document.querySelectorAll(".window-wrapper"),closeButtons=document.querySelectorAll(".window-close"),windowZ=10,windowFunctions=function(){closeButtons.forEach(function(e){e.addEventListener("click",function(){e.closest(".window-wrapper").classList.add("closed"),checkClosedList()})});function t(e,t){e.preventDefault();var n=document.getElementById(t);n.classList.remove("closed"),windowWrappers.forEach(function(e){e.classList.add("disabled")}),n.classList.remove("disabled"),windowZ+=1,n.style.zIndex=windowZ,closeButton=n.querySelector(".window-close"),closeButton.focus(),closeButton.blur(),checkClosedList()}document.getElementById("me").addEventListener("click",function(e){t(e,"meWindow")}),document.getElementById("music").addEventListener("click",function(e){t(e,"musicWindow")}),document.getElementById("about").addEventListener("click",function(e){t(e,"aboutWindow")}),document.getElementById("portfolio").addEventListener("click",function(e){t(e,"portfolioWindow")}),windowWrappers.forEach(function(t){t.addEventListener("mousedown",function(){var e;windowZ+=1,(e=t).style.zIndex=windowZ,windowWrappers.forEach(function(e){e.classList.add("disabled")}),e.classList.remove("disabled")})})},checkClosedList=function(){(closedWindows=document.querySelectorAll(".closed")).length<windowWrappers.length-1?closeAllButton.classList.add("visible"):closeAllButton.classList.remove("visible"),closedWindows.length<windowWrappers.length?$body.classList.add("window-open"):$body.classList.remove("window-open"),onResize()};closeAllButton.addEventListener("click",function(){windowWrappers.forEach(function(e){e.classList.add("closed")}),checkClosedList()}),windowFunctions();